<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Daps Bounty â€“ At-game experiences</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --container:1160px;
      --cardW:360px;
      --gap:24px;
      --radius-lg:14px;
      --line:#EDEEF1;
      --ink:#0A0A0B;
      --chip:#F7F8FA;
      --chip-border:#E5E7EB;
      --chip-active:#111;
      --beta:#FF6000;
      --cta-a:#DAFA22;
      --cta-b:#64FA00;
      --shadow-1:0 2px 2px rgba(16,24,40,.04), 0 10px 20px rgba(16,24,40,.07);
      --shadow-card:0 8px 20px rgba(16,24,40,.07);
      --heroW: 1000px;

      /* Theme colors - can be overwritten by JS */
      --theme-primary: #0A0A0B;
      --theme-secondary: #DAFA22;
      --theme-accent: #64FA00;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{height:100%;overflow-x:hidden}
    body{
      margin:0; font-family:Poppins,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink); background:#fff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    /* Hamburger Menu */
    .hamburger{display:none;width:32px;height:32px;border:none;background:none;cursor:pointer;padding:4px;flex-direction:column;justify-content:center;gap:5px;position:relative;z-index:50}
    .hamburger span{display:block;width:100%;height:3px;background:#111;border-radius:2px;transition:all .3s}
    .hamburger.active span:nth-child(1){transform:rotate(45deg) translate(6px,6px)}
    .hamburger.active span:nth-child(2){opacity:0}
    .hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}

    .nav-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:39;opacity:0;transition:opacity .3s}
    .nav-overlay.active{opacity:1}

    /* Header */
    .site-header{position:sticky;top:0;z-index:100;background:#fff;border-bottom:1px solid var(--line)}
    .bar{max-width:var(--container);margin:auto;display:flex;align-items:center;gap:12px;padding:14px 20px}
    .brand{display:flex;align-items:center;gap:10px;cursor:pointer}
    .brand .logo{height:30px;width:auto}
    .beta{font-size:12px;font-weight:700;color:#fff;background:var(--beta);padding:2px 8px;border-radius:6px}
    nav{margin-left:24px;display:flex;gap:28px;flex-wrap:wrap}
    nav a{position:relative;color:#111;text-decoration:none;font-size:14px;font-weight:500;opacity:.9;padding-bottom:8px}
    nav a:hover{opacity:1}
    nav a.active{font-weight:600}
    nav a.active::after{content:"";position:absolute;left:0;right:0;bottom:0;height:3px;background:var(--theme-primary);border-radius:2px}

    .userbar{margin-left:auto;display:flex;gap:10px;align-items:center}
    .btn{height:36px;padding:0 12px;border-radius:10px;border:1.5px solid var(--theme-primary);background:var(--theme-primary);color:#fff;font-weight:700;cursor:pointer;font-size:14px;white-space:nowrap}
    .btn.ghost{background:#fff;color:var(--theme-primary)}

    /* User Profile Badge */
    .user-badge{
      position:relative;
      width:36px;height:36px;border-radius:50%;
      background:linear-gradient(135deg,#6366f1,#8b5cf6);
      display:flex;align-items:center;justify-content:center;
      color:#fff;font-weight:700;font-size:14px;
      cursor:pointer;user-select:none;
      border:2px solid #fff;
      box-shadow:0 2px 8px rgba(0,0,0,.1);
    }
    .user-badge:hover{box-shadow:0 4px 12px rgba(0,0,0,.15)}

    /* Dropdown Menu */
    .dropdown{
      position:absolute;right:0;top:calc(100% + 8px);
      min-width:200px;background:#fff;
      border:1px solid var(--line);border-radius:12px;
      box-shadow:0 8px 24px rgba(16,24,40,.12);
      padding:8px;display:none;z-index:1000;
    }
    .dropdown.open{display:block}
    .dropdown-header{
      padding:12px 12px 8px;border-bottom:1px solid var(--line);
      margin-bottom:4px;
    }
    .dropdown-name{font-weight:700;font-size:14px;margin:0 0 2px}
    .dropdown-email{font-size:12px;color:#6B7280;margin:0}
    .dropdown-item{
      display:block;width:100%;text-align:left;
      padding:10px 12px;border:none;background:none;
      border-radius:8px;cursor:pointer;
      font-weight:600;font-size:14px;color:#111;
      text-decoration:none;
    }
    .dropdown-item:hover{background:#F9FAFB}
    .dropdown-divider{height:1px;background:var(--line);margin:4px 0}

    /* Hero */

/* Hero */






/* Hero with Parallax Effect and Strong Vignetting */
.hero{
  position:relative;
  overflow:visible;
  border-bottom:1px solid var(--line);
  z-index:500;
  min-height:900px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.hero-art{
  position:absolute;
  inset:0;
  pointer-events:none;
  will-change:transform;
  transition:transform 0s linear;
  overflow:hidden;
}
.hero-art::before{
  content:'';
  position:absolute;
  inset:0;
  background:url("./images/Daps_hero.jpeg") center 35% / cover no-repeat;
  transform-origin:center center;
  will-change:transform;
}
.hero-art::after{
  content:'';
  position:absolute;
  inset:0;
  background:
    radial-gradient(ellipse 70% 100% at center, transparent 0%, transparent 35%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 75%, rgba(0,0,0,1) 100%);
  z-index:1;
}
.hero-inner{
  max-width:900px; margin:auto; padding:40px 20px;
  text-align:center; position:relative;
  z-index:2;
}
.hero h1{
  font-weight:900;font-size:68px;line-height:1.05;letter-spacing:-.02em;
  margin:0 0 20px;
  color:#fff;
  text-shadow:0 2px 12px rgba(0,0,0,0.4);
}
.hero p{
  max-width:620px;margin:0 auto 32px;
  color:#f5f5f5;
  line-height:1.6;font-size:18px;
  text-shadow:0 1px 8px rgba(0,0,0,0.4);
}
.cta{
  display:inline-block;border:0;padding:14px 24px;font-weight:700;border-radius:12px;cursor:pointer;
  background:linear-gradient(90deg,var(--theme-secondary),var(--theme-accent));
  box-shadow:0 6px 24px rgba(100,250,0,.28);
  text-decoration:none;font-size:16px;
  color:var(--theme-primary);transition:all .2s;
}
.cta:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 32px rgba(100,250,0,.35);
}

/* Prominent Search */
.search-hero{
  position:relative;
  max-width:700px;
  margin:40px auto 0;
  z-index:9999;
}
.search-hero input{
  width:100%;height:64px;border:2px solid rgba(255,255,255,0.3);border-radius:999px;
  padding:0 60px 0 28px;outline:0;font-size:18px;background:rgba(255,255,255,0.95);
  font-family:inherit;font-weight:500;color:var(--ink);
  transition:all .2s;box-shadow:0 4px 20px rgba(0,0,0,.3);
  backdrop-filter:blur(10px);
}
.search-hero input:focus{
  border-color:rgba(255,255,255,0.6);
  background:rgba(255,255,255,1);
  box-shadow:0 6px 32px rgba(0,0,0,.4), 0 0 0 4px rgba(255,255,255,.2);
}
.search-hero input::placeholder{color:#6B7280;font-weight:400}
.search-icon{
  position:absolute;right:24px;top:50%;transform:translateY(-50%);
  width:24px;height:24px;opacity:.4;pointer-events:none;
}









    /* Search Dropdown Results */
    .search-results{
      position:absolute;
      top:calc(100% + 12px);
      left:0;
      right:0;
      width:100%;
      background:#fff;
      border:1px solid var(--line);
      border-radius:20px;
      box-shadow:0 24px 48px rgba(0,0,0,.18);
      max-height:420px;
      overflow-y:auto;
      display:none;
      z-index:99999; /* above everything else, including featured section */
    }
    .search-results.active{display:block}
    .search-result-item{
      display:flex;align-items:center;gap:16px;padding:14px 20px;
      cursor:pointer;text-decoration:none;color:inherit;
      border-bottom:1px solid var(--line);transition:background .15s;
    }
    .search-result-item:last-child{border-bottom:none}
    .search-result-item:hover{background:#F9FAFB}
    .search-result-thumb{
      width:52px;height:52px;border-radius:12px;overflow:hidden;
      flex:none;background:#eee;
    }
    .search-result-thumb img{width:100%;height:100%;object-fit:cover}
    .search-result-info{flex:1;min-width:0;text-align:center}
    .search-result-name{
      font-weight:800;font-size:16px;margin:0 0 2px;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .search-result-team{
      font-size:13px;color:#6B7280;margin:0;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .search-no-results{
      padding:40px 20px;text-align:center;color:#6B7280;font-size:15px;
    }

    /* Featured Athletes */
    .featured{
      max-width:var(--container);margin:0 auto;padding:60px 20px 40px;
      background:#fff;
      position:relative;
      z-index:1;
    }
    .featured h2{
      font-weight:900;font-size:28px;letter-spacing:-.01em;
      margin:0 0 28px;color:#111;
    }
    .featured-grid{
      display:grid;grid-template-columns:repeat(3,1fr);gap:20px;
    }
    .featured-card{
      background:#fff;border:1px solid var(--line);border-radius:var(--radius-lg);
      box-shadow:var(--shadow-1);padding:24px;text-align:center;
      transition:transform .12s,box-shadow .12s,border-color .12s;
      text-decoration:none;color:inherit;display:block;
    }
    .featured-card:hover{
      transform:translateY(-4px);box-shadow:0 12px 32px rgba(0,0,0,.1);
      border-color:#D1D5DB;
    }
    .featured-thumb{
      width:120px;height:120px;border-radius:50%;overflow:hidden;
      margin:0 auto 20px;background:#eee;border:4px solid #F3F4F6;
    }
    .featured-thumb img{width:100%;height:100%;object-fit:cover}
    .featured-name{
      font-weight:900;font-size:20px;margin:0 0 8px;color:#111;
      letter-spacing:-.01em;
    }
    .featured-team{
      font-size:14px;color:#6B7280;margin:0 0 16px;font-weight:500;
    }
    .featured-cta{
      width:100%;height:38px;border:1.5px solid #111;background:#fff;
      color:#111;font-weight:800;font-size:14px;border-radius:10px;
      cursor:pointer;transition:all .12s;
    }
    .featured-cta:hover{
      background:#111;color:#fff;transform:translateY(-1px);
    }

    /* ===== Featured Press Logos Carousel Section ===== */
    .articles-carousel-section{
      max-width:var(--container);
      margin:0 auto;
      padding:40px 20px 60px;
      background:#fff;
      border-top:1px solid var(--line);
    }
    .articles-carousel-section h2{
      font-weight:900;
      font-size:32px;
      letter-spacing:-.02em;
      margin:0 0 28px;
      color:#111;
    }

    .articles-carousel-shell{
      position:relative;
    }

    .articles-carousel-wrapper{
      position:relative;
      width:100%;
      height:220px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    /* arrows */
    .article-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:44px;
      height:44px;
      border-radius:10px;
      border:1px solid var(--line);
      background:#fff;
      box-shadow:0 24px 40px rgba(16,24,40,.07);
      color:#111;
      font-weight:800;
      font-size:16px;
      line-height:44px;
      text-align:center;
      cursor:pointer;
      user-select:none;
      transition:all .12s;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:5;
    }
    .article-arrow:hover{
      transform:translateY(-50%) translateY(-1px) scale(1.03);
      box-shadow:0 28px 48px rgba(0,0,0,.12);
      background:#111;
      color:#fff;
    }
    .article-arrow.left{left:0;transform:translateY(-50%) translateX(-50%)}
    .article-arrow.left:hover{transform:translateY(-50%) translateX(-50%) translateY(-1px) scale(1.03)}
    .article-arrow.right{right:0;transform:translateY(-50%) translateX(50%)}
    .article-arrow.right:hover{transform:translateY(-50%) translateX(50%) translateY(-1px) scale(1.03)}

    /* Card shell base (reused for logo cards) */
    .article-card-shell{
      position:absolute;
      width:220px;
      max-width:30vw;
      min-height:120px;
      border-radius:var(--radius-lg);
      background:#fff;
      border:1px solid var(--line);
      box-shadow:0 30px 60px rgba(16,24,40,.12);
      padding:24px;
      color:#111;
      text-decoration:none;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      cursor:default;
      transition:
        transform .35s cubic-bezier(.16,1,.3,1),
        opacity .35s cubic-bezier(.16,1,.3,1),
        box-shadow .2s;
    }
    .article-card-shell:hover{
      box-shadow:0 36px 72px rgba(16,24,40,.16);
    }

    .article-card-shell.logo-card{
      padding:16px;
    }
    .article-card-shell.logo-card img{
      max-width:100%;
      max-height:80px;
      object-fit:contain;
      filter:brightness(0.7);
      transition:filter .2s, transform .2s;
    }

    /* positions */
    .pos-left{
      transform:translateX(-220px) scale(.9);
      opacity:.6;
      z-index:2;
    }
    .pos-center{
      transform:translateX(0) scale(1.05);
      opacity:1;
      z-index:3;
    }
    .pos-right{
      transform:translateX(220px) scale(.9);
      opacity:.6;
      z-index:2;
    }
    .pos-far-left{
      transform:translateX(-420px) scale(.85);
      opacity:.25;
      z-index:1;
    }
    .pos-far-right{
      transform:translateX(420px) scale(.85);
      opacity:.25;
      z-index:1;
    }

    /* make center logo brightest, outers dimmest */
    .article-card-shell.logo-card.pos-center img{
      filter:brightness(1);
      transform:scale(1.05);
    }
    .article-card-shell.logo-card.pos-left img,
    .article-card-shell.logo-card.pos-right img{
      filter:brightness(0.85);
      transform:scale(0.97);
    }
    .article-card-shell.logo-card.pos-far-left img,
    .article-card-shell.logo-card.pos-far-right img{
      filter:brightness(0.6);
      transform:scale(0.9);
    }

    /* during next animation, shift the three middle positions; far edges fade out/in on re-render */
    .anim-next .pos-left{
      transform:translateX(-420px) scale(.85);
      opacity:.25;
    }
    .anim-next .pos-center{
      transform:translateX(-220px) scale(.9);
      opacity:.6;
    }
    .anim-next .pos-right{
      transform:translateX(0) scale(1.05);
      opacity:1;
      z-index:3;
    }

    .anim-prev .pos-right{
      transform:translateX(420px) scale(.85);
      opacity:.25;
    }
    .anim-prev .pos-center{
      transform:translateX(220px) scale(.9);
      opacity:.6;
    }
    .anim-prev .pos-left{
      transform:translateX(0) scale(1.05);
      opacity:1;
      z-index:3;
    }

    /* (legacy text styles kept in case needed elsewhere, but unused for logos) */
    .article-header-line{
      font-weight:800;
      font-size:15px;
      line-height:1.45;
      color:#111;
      margin:0 0 10px;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      display:none;
    }
    .article-title{
      font-weight:900;
      font-size:20px;
      line-height:1.3;
      letter-spacing:-.02em;
      color:#111;
      display:none;
    }
    .article-publication{
      font-weight:600;
      font-size:14px;
      line-height:1.4;
      color:#6B7280;
      display:none;
    }

    .article-meta{
      font-size:14px;
      line-height:1.4;
      color:#6B7280;
      font-weight:500;
      margin:0 0 16px;
      display:none;
    }

    .article-excerpt{
      font-size:16px;
      line-height:1.5;
      font-weight:500;
      color:#111;
      max-height:4.8em;
      overflow:hidden;
      text-overflow:ellipsis;
      display:none;
    }

    /* progress bar */
    .article-progress-outer{
      width:260px;
      max-width:80%;
      margin:24px auto 0;
      display:flex;
      justify-content:center;
    }
    .article-progress-wrap{
      position:relative;
      width:100%;
      height:4px;
      background:#F3F4F6;
      border-radius:999px;
      overflow:hidden;
      box-shadow:inset 0 0 4px rgba(0,0,0,.03);
    }
    .article-progress-bar{
      height:100%;
      background:linear-gradient(90deg,var(--theme-secondary),var(--theme-accent));
      width:0%;
      transition:width linear;
    }

    /* "hidden" athletes section kept for anchors/JS compatibility */
    .athletes{
      max-width:var(--container);margin:0 auto;padding:20px 20px 80px;
      background:#fff;
      display:none;
    }
    .athletes h2{font-weight:900;font-size:28px;letter-spacing:-.01em;margin:0 0 20px;color:#111}

    .filters{display:none}
    .filter-search{flex:1;min-width:200px;position:relative}
    .filter-search input{width:100%;height:42px;border:1px solid var(--line);border-radius:999px;padding:0 42px 0 16px;font-size:14px;outline:0}
    .filter-search input:focus{border-color:#9CA3AF}
    .filter-search svg{position:absolute;right:14px;top:50%;transform:translateY(-50%);opacity:.45;pointer-events:none}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{
      height:38px;display:inline-flex;align-items:center;justify-content:center;
      padding:0 14px;border-radius:999px;border:1px solid var(--chip-border);
      background:var(--chip);font-weight:800;cursor:pointer;font-size:14px;
      transition:all .12s;
    }
    .chip[aria-pressed="true"]{background:var(--chip-active);border-color:var(--chip-active);color:#fff}

    /* Cards (kept for JS compatibility) */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--gap);display:none}
    .card{
      display:flex;flex-direction:column;gap:16px;background:#fff;
      border:1px solid var(--line);border-radius:var(--radius-lg);
      box-shadow:var(--shadow-card);overflow:hidden;
      transition:transform .12s,box-shadow .12s,border-color .12s;
    }
    .card:hover{
      transform:translateY(-4px);box-shadow:0 12px 32px rgba(0,0,0,.1);
      border-color:#D1D5DB;
    }
    .thumb{width:100%;aspect-ratio:1;object-fit:cover;background:#eee}
    .meta{padding:0 20px 20px}
    .name{font-weight:900;font-size:22px;margin:0 0 6px;color:#111;letter-spacing:-.01em}
    .team{font-size:14px;color:#6B7280;margin:0 0 14px;font-weight:500}
    .cta-ghost{
      display:block;width:100%;text-align:center;padding:11px 16px;
      border:1.5px solid #111;background:#fff;color:#111;font-weight:800;
      text-decoration:none;border-radius:10px;font-size:14px;
      transition:all .12s;
    }
    .cta-ghost:hover{background:#111;color:#fff;transform:translateY(-1px)}

    .empty-state{padding:60px 20px;text-align:center;color:#6B7280;font-size:16px}

    /* Footer */
    footer{border-top:1px solid var(--line);background:#FAFBFC}
    .foot{max-width:var(--container);margin:auto;padding:26px 20px;display:flex;align-items:center;gap:18px;color:#6B7280;font-size:14px}
    .foot a{color:inherit;text-decoration:none}
    .foot a:hover{text-decoration:underline}

    /* Responsive */
    @media (max-width:1100px){
      .hero h1{font-size:56px}
      .featured-grid{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:800px){
      .bar{padding:12px 16px}
      .brand .logo{height:26px}
      nav{display:none;position:fixed;right:0;top:59px;background:#fff;border-left:1px solid var(--line);
          width:280px;height:calc(100vh - 59px);padding:20px;flex-direction:column;gap:12px;
          box-shadow:-4px 0 24px rgba(0,0,0,.08);transition:transform .3s;transform:translateX(100%);z-index:40}
      nav.active{transform:translateX(0);display:flex}
      nav a{padding:12px 14px;border-radius:10px;font-size:16px}
      nav a:hover{background:#F9FAFB}
      nav a.active::after{display:none}
      .hamburger{display:flex}
      .nav-overlay.active{display:block}

      .hero-inner{padding:40px 20px}
      .hero h1{font-size:42px}
      .hero p{font-size:16px}
      .search-hero input{height:56px;font-size:16px;padding:0 52px 0 20px}
      .search-icon{right:18px;width:20px;height:20px}

      .featured{padding:40px 20px 20px}
      .featured-grid{grid-template-columns:1fr;gap:16px}
      .featured-card{padding:20px}
      .featured-thumb{width:100px;height:100px}
      .featured-name{font-size:18px}

      .articles-carousel-section{
        padding:32px 20px 48px;
      }
      .articles-carousel-wrapper{
        height:220px;
      }
      .article-card-shell{
        width:200px;
        padding:16px;
      }
      .pos-left{
        transform:translateX(-180px) scale(.9);
      }
      .pos-right{
        transform:translateX(180px) scale(.9);
      }
      .pos-far-left{
        transform:translateX(-340px) scale(.85);
      }
      .pos-far-right{
        transform:translateX(340px) scale(.85);
      }

      .anim-next .pos-left{
        transform:translateX(-340px) scale(.85);
      }
      .anim-next .pos-center{
        transform:translateX(-180px) scale(.9);
      }
      .anim-next .pos-right{
        transform:translateX(0) scale(1.05);
      }

      .anim-prev .pos-right{
        transform:translateX(340px) scale(.85);
      }
      .anim-prev .pos-center{
        transform:translateX(180px) scale(.9);
      }
      .anim-prev .pos-left{
        transform:translateX(0) scale(1.05);
      }

      .article-arrow.left{left:8px;transform:translateY(-50%)}
      .article-arrow.right{right:8px;transform:translateY(-50%)}

      .article-progress-outer{
        width:220px;
        margin-top:28px;
      }
    }
    @media (max-width:480px){
      .hero h1{font-size:36px}
      .search-hero input{height:52px;font-size:15px}
      .featured-thumb{width:80px;height:80px;margin-bottom:16px}
      .featured-name{font-size:16px}
      .name{font-size:20px}

      .article-card-shell{
        width:170px;
        padding:14px;
      }
      .pos-left{
        transform:translateX(-150px) scale(.9);
      }
      .pos-right{
        transform:translateX(150px) scale(.9);
      }
      .pos-far-left{
        transform:translateX(-290px) scale(.85);
      }
      .pos-far-right{
        transform:translateX(290px) scale(.85);
      }

      .anim-next .pos-left{
        transform:translateX(-290px) scale(.85);
      }
      .anim-next .pos-center{
        transform:translateX(-150px) scale(.9);
      }
      .anim-next .pos-right{
        transform:translateX(0) scale(1.05);
      }

      .anim-prev .pos-right{
        transform:translateX(290px) scale(.85);
      }
      .anim-prev .pos-center{
        transform:translateX(150px) scale(.9);
      }
      .anim-prev .pos-left{
        transform:translateX(0) scale(1.05);
      }

      .article-arrow.left{left:8px;transform:translateY(-50%)}
      .article-arrow.right{right:8px;transform:translateY(-50%)}

      .article-progress-outer{
        width:200px;
        margin-top:24px;
      }
    }
  </style>
</head>
<body>

<header class="site-header">
  <div class="bar">
    <div class="brand" onclick="window.location.href='/index.html'">
      <img class="logo" src="./images/Daps-2 Copy.png" alt="Daps Bounty logo">
      <span class="beta">BETA</span>
    </div>

    <nav id="nav">
      <a href="/index.html" id="nav-home">Home</a>
      <!--a href="/playepage.html" id="nav-experience">Select Experience</a-->
      <a href="/news.html" id="nav-press">Press</a>
      <a href="/faq.html" id="nav-faq">FAQ</a>
      <a href="/my-offers.html">My Offers</a>
    </nav>

    <div class="userbar">
      <div id="userBadge" class="user-badge" style="display:none" onclick="toggleDropdown()">
        <span id="userInitials">U</span>
        <div class="dropdown" id="userDropdown">
          <div class="dropdown-header">
            <p class="dropdown-name" id="dropdownName">User</p>
            <p class="dropdown-email" id="dropdownEmail"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9eebedfbecdefbe6fff3eef2fbb0fdf1f3">[email&#160;protected]</a></p>
          </div>
          <button class="dropdown-item" onclick="logout()">Sign out</button>
        </div>
      </div>

      <button id="signInBtn" class="btn" onclick="window.location.href='/user'">Sign in</button>
    </div>

    <button class="hamburger" id="hamburger" aria-label="Toggle menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  // Highlight the current page in the nav
  (function() {
    var path = window.location.pathname;
    var file = path.substring(path.lastIndexOf('/') + 1) || 'index.html';
    var map = {
      'index.html': 'nav-home',
      'playepage.html': 'nav-experience',
      'news.html': 'nav-press',
      'faq.html': 'nav-faq'
    };
    Object.keys(map).forEach(function(fname){
      var el = document.getElementById(map[fname]);
      if (!el) return;
      if (fname === file) {
        el.classList.add('active');
      } else {
        el.classList.remove('active');
      }
    });
  })();
</script>


<div class="nav-overlay" id="navOverlay"></div>

<section class="hero">
  <div class="hero-art" id="heroArt"></div>
  <div class="hero-inner">
    <h1>At-game experiences</h1>
    <p>Bid on unique game-day access. Create an account, verify once, then submit and track your offers.</p>
    <a href="#athletes" class="cta">Get started</a>

    <div class="search-hero">
      <input type="search" id="heroSearch" placeholder="Search athletes or teams..." autocomplete="off">
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><circle cx="10" cy="10" r="7"/><path d="M21 21l-6-6"/></svg>
      <div class="search-results" id="searchResults"></div>
    </div>
  </div>
</section>

<section class="featured" id="featured">
  <h2>Featured Athletes</h2>
  <div class="featured-grid" id="featuredGrid">
    <!-- Populated by JavaScript -->
  </div>
</section>

<!-- ===== Featured Press Logos Carousel ===== -->
<section class="articles-carousel-section" id="articlesCarouselSection">
  <h2>Press</h2>

  <div class="articles-carousel-shell">
    <div class="article-arrow left" id="articleArrowLeft" aria-label="Previous outlet">â®</div>
    <div class="article-arrow right" id="articleArrowRight" aria-label="Next outlet">â¯</div>

    <div class="articles-carousel-wrapper" id="articlesCarouselWrapper">
      <!-- logo cards injected here -->
    </div>

    <div class="article-progress-outer">
      <div class="article-progress-wrap">
        <div class="article-progress-bar" id="articleProgressBar"></div>
      </div>
    </div>
  </div>
</section>

<section class="athletes" id="athletes">
  <h2>All Athletes</h2>

  <div class="filters">
    <div class="filter-search">
      <input type="search" id="search" placeholder="Search athletes or teams...">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/><path d="M13 13l4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
    </div>

    <div class="chips">
      <button class="chip" data-filter="all" aria-pressed="true">All</button>
      <button class="chip" data-filter="NBA">NBA</button>
      <button class="chip" data-filter="WNBA">WNBA</button>
      <button class="chip" data-filter="NCAA">NCAA</button>
    </div>
  </div>

  <div class="grid" id="cards">
    <!-- Populated by JavaScript -->
  </div>
</section>

<footer>
  <div class="foot">
    <span>Copyright Â© 2025 Daps</span>
    <span style="margin-left:auto"></span>
    <a href="/privacy-policy.html">Privacy policy</a><span aria-hidden="true"> Â· </span>
    <a href="/terms-of-service.html">Terms of use</a>
  </div>
</footer>

<script>
(function(){
  'use strict';

  // ===== Hero image diagnostics =====
  (function heroDiagnostics(){
    var src = './images/Daps_hero.jpeg';
    console.group('[HERO]');
    console.log('Attempting to load hero image:', src);
    var img = new Image();
    img.onload = function(){
      console.log('âœ“ Hero image loaded (', img.naturalWidth + 'x' + img.naturalHeight, ')');
      var el = document.getElementById('heroArt');
      if (el) {
        var style = window.getComputedStyle(el).backgroundImage;
        console.log('Computed background-image on .hero-art:', style);
      } else {
        console.warn('Could not find #heroArt');
      }
      console.groupEnd();
    };
    img.onerror = function(e){
      console.error('âœ— Failed to load hero image. Check that /images/Daps_hero.jpeg is served by your static middleware.');
      console.log('Tip: place image at <project>/server/images/Daps_hero.jpeg and ensure Express/Vite serves /images/* from that folder.');
      console.groupEnd();
    };
    img.src = src;
  })();

  var API = 'http://localhost:5175';
  var allAthletes = [];
  var allNBAPlayers = [];  // âœ… NEW: All NBA players from ESPN
  var combinedPlayers = []; // âœ… NEW: Merged list for search (DB + ESPN)
  var playersLoaded = false; // âœ… NEW: Track if ESPN players loaded
  var currentUser = null;

  var teamConfig = {
    primary: '#0A0A0B',
    secondary: '#DAFA22',
    accent: '#64FA00'
  };

  // ===== Press Logos Data (replaces article snippets) =====
  var articlesData = [
    {
      name: 'Sports Illustrated',
      logo: '/images/Sports_Illustrated.png'
    },
    {
      name: 'The New York Times',
      logo: '/images/New_York_Times_logo.png'
    },
    {
      name: 'USA Today',
      logo: '/images/USA_Today_logo.png'
    },
    {
      name: 'Sports Business Journal',
      logo: '/images/SBJ.png'
    },
    {
      name: 'cllct',
      logo: '/images/CLLCT.png'
    },
    {
      name: 'Yahoo Sports',
      logo: '/images/Yahoo_Sports_Logo.png'
    }
  ];

  var currentArticleIndex = 0;

  var articleRotateTimer = null;
  var articleProgressTimer = null;
  var articleAutoplayMs = 8000;
  var progressBarEl;
  var lastFrameTime = null;
  var progressElapsed = 0;

  var animating = false;
  var animDurationMs = 350; // keep in sync w/ CSS

  var wrapperEl = null; // stage

  function applyTeamTheme() {
    document.documentElement.style.setProperty('--theme-primary', teamConfig.primary);
    document.documentElement.style.setProperty('--theme-secondary', teamConfig.secondary);
    document.documentElement.style.setProperty('--theme-accent', teamConfig.accent);
  }

  function fetchTeamConfig() {
    return fetch(API + '/api/public/config')
      .then(function(res){ return res.ok ? res.json() : {}; })
      .then(function(config){
        if (config.branding) {
          teamConfig = config.branding;
        }
        applyTeamTheme();
      })
      .catch(function(){
        applyTeamTheme();
      });
  }

  // Auth functions
  function checkAuth() {
    var token = localStorage.getItem('jwt');
    if (!token) {
      document.getElementById('signInBtn').style.display = 'inline-block';
      document.getElementById('userBadge').style.display = 'none';
      return;
    }

    fetch(API + '/api/users/me', {
      headers: { Authorization: 'Bearer ' + token }
    }).then(function(res){
      if (!res.ok) throw new Error('Not authenticated');
      return res.json();
    }).then(function(user){
      currentUser = user;
      var initials = ((user.firstName || '')[0] || '') + ((user.lastName || '')[0] || '');
      document.getElementById('userInitials').textContent = initials.toUpperCase() || 'U';
      document.getElementById('dropdownName').textContent = (user.firstName || '') + ' ' + (user.lastName || '');
      document.getElementById('dropdownEmail').textContent = user.email || '';
      document.getElementById('signInBtn').style.display = 'none';
      document.getElementById('userBadge').style.display = 'flex';
    }).catch(function(){
      localStorage.removeItem('jwt');
      document.getElementById('signInBtn').style.display = 'inline-block';
      document.getElementById('userBadge').style.display = 'none';
    });
  }

  window.toggleDropdown = function() {
    var dropdown = document.getElementById('userDropdown');
    dropdown.classList.toggle('open');
  };

  window.logout = function() {
    localStorage.removeItem('jwt');
    currentUser = null;
    window.location.reload();
  };

  document.addEventListener('click', function(e){
    var badge = document.getElementById('userBadge');
    var dropdown = document.getElementById('userDropdown');
    if (badge && dropdown && !badge.contains(e.target)) {
      dropdown.classList.remove('open');
    }
  });

  // ============================================================================
  // âœ… NEW: ENHANCED NBA PLAYER SEARCH WITH ESPN API
  // ============================================================================

  /**
   * Fetch all NBA players from ESPN via our API
   * This function loads 500+ players from all 30 NBA teams
   */
  async function loadAllNBAPlayers() {
    console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('[index:nba-players] ğŸ€ Loading all NBA players from ESPN...');
    console.log('[index:nba-players] Timestamp:', new Date().toISOString());
    console.log('[index:nba-players] API endpoint:', API + '/api/nba/all-players');
    
    try {
      console.log('[index:nba-players] ğŸ“¤ Fetching from server...');
      const startTime = Date.now();
      
      const response = await fetch(API + '/api/nba/all-players');
      
      const duration = Date.now() - startTime;
      console.log('[index:nba-players] Response received in', duration, 'ms');
      console.log('[index:nba-players] Response status:', response.status, response.statusText);
      
      if (!response.ok) {
        console.error('[index:nba-players] âŒ Failed to fetch NBA players:', response.status);
        combinedPlayers = allAthletes.map(function(a) {
          return {
            id: a.id,
            slug: a.slug,
            name: a.name,
            team: a.team,
            league: a.league,
            imageUrl: a.imageUrl,
            featured: a.featured,
            active: a.active,
            source: 'db',
            inDatabase: true
          };
        });
        console.log('[index:nba-players] Fallback: using only database athletes, count =', combinedPlayers.length);
        playersLoaded = false;
        return false;
      }

      const data = await response.json();
      console.log('[index:nba-players] Raw response keys:', Object.keys(data || {}));
      console.log('[index:nba-players] Cached flag:', data.cached);
      console.log('[index:nba-players] Total ESPN players:', data.players ? data.players.length : 0);

      if (!data.players || !Array.isArray(data.players)) {
        console.warn('[index:nba-players] No players array found in response, using DB only');
        combinedPlayers = allAthletes.map(function(a) {
          return {
            id: a.id,
            slug: a.slug,
            name: a.name,
            team: a.team,
            league: a.league,
            imageUrl: a.imageUrl,
            featured: a.featured,
            active: a.active,
            source: 'db',
            inDatabase: true
          };
        });
        console.log('[index:nba-players] Fallback: using only database athletes, count =', combinedPlayers.length);
        playersLoaded = false;
        return false;
      }

      allNBAPlayers = data.players;
      playersLoaded = true;

      // Create combined list (database athletes + ESPN players not in database)
      combinedPlayers = allAthletes.map(function(a) {
        return {
          id: a.id,
          slug: a.slug,
          name: a.name,
          team: a.team,
          league: a.league,
          imageUrl: a.imageUrl,
          featured: a.featured,
          active: a.active,
          source: 'db',
          inDatabase: true
        };
      });

      console.log('[index:nba-players] âœ… Added', combinedPlayers.length, 'database athletes to search');

      // Add ESPN players that aren't in database
      console.log('[index:nba-players] ğŸ” Checking for new ESPN players...');
      var espnOnlyCount = 0;
      allNBAPlayers.forEach(function(player) {
        var exists = combinedPlayers.some(function(a) {
          return (
            a.name &&
            player.name &&
            a.name.toLowerCase() === player.name.toLowerCase() &&
            a.team &&
            player.team &&
            a.team.toLowerCase() === player.team.toLowerCase()
          );
        });

        if (!exists) {
          combinedPlayers.push({
            espnId: player.espnId,
            slug: player.slug,
            name: player.name,
            team: player.team,
            league: 'NBA',
            imageUrl: player.imageUrl,
            position: player.position,
            jersey: player.jersey,
            featured: false,
            active: true,
            source: 'espn',
            inDatabase: false
          });
          espnOnlyCount++;
        }
      });

      console.log('[index:nba-players] âœ… Added', espnOnlyCount, 'ESPN-only players to search');
      console.log('[index:nba-players] ğŸ“Š Total searchable players:', combinedPlayers.length);
      console.log('[index:nba-players]   - From DB:', allAthletes.length);
      console.log('[index:nba-players]   - From ESPN only:', espnOnlyCount);

      // Log sample of ESPN players for verification
      const sampleESPN = combinedPlayers.filter(p => !p.inDatabase).slice(0, 5);
      if (sampleESPN.length > 0) {
        console.log('[index:nba-players] Sample ESPN players:');
        sampleESPN.forEach(function(p, i) {
          console.log('[index:nba-players]   ' + (i + 1) + '. ' + p.name + ' (' + p.team + ')');
        });
      } else {
        console.log('[index:nba-players] âš ï¸ No ESPN-only players found in combined list');
      }
      
      console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      console.log('[index:nba-players] âœ¨ NBA PLAYERS LOADED SUCCESSFULLY');
      console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      
      return true;
      
    } catch (error) {
      console.error('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      console.error('[index:nba-players] âŒ ERROR LOADING NBA PLAYERS');
      console.error('[index:nba-players] Error name:', error.name);
      console.error('[index:nba-players] Error message:', error.message);
      console.error('[index:nba-players] Error stack:', error.stack);
      console.error('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      
      // Fallback to DB-only if ESPN fetch fails
      combinedPlayers = allAthletes.map(function(a) {
        return {
          id: a.id,
          slug: a.slug,
          name: a.name,
          team: a.team,
          league: a.league,
          imageUrl: a.imageUrl,
          featured: a.featured,
          active: a.active,
          source: 'db',
          inDatabase: true
        };
      });
      console.log('[index:nba-players] Fallback: using only database athletes, count =', combinedPlayers.length);
      playersLoaded = false;
      return false;
    }
  }

  /**
   * Handle clicking on an ESPN player not in database
   * Creates the athlete dynamically then redirects to their page
   */
  window.handleESPNPlayerClick = async function(espnId, name, team, imageUrl) {
    console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('[index:espn-click] ğŸ¯ ESPN player clicked');
    console.log('[index:espn-click] Player:', name);
    console.log('[index:espn-click] Team:', team);
    console.log('[index:espn-click] ESPN ID:', espnId);
    
    try {
      const token = localStorage.getItem('jwt');
      console.log('[index:espn-click] JWT token present:', !!token);
      
      if (!token) {
        console.warn('[index:espn-click] No JWT token found, redirecting to /user (login)');
        alert('Please log in or create an account first. You\'ll be redirected to the login page.');
        window.location.href = '/user';
        return;
      }

      var searchResults = document.getElementById('searchResults');
      if (searchResults) {
        searchResults.innerHTML =
          '<div class="search-no-results">' +
            'Creating player profile for <strong>' + (name || 'this player') + '</strong>...<br>' +
            '<small style="color:#6B7280;">This may take a few seconds while we sync with the NBA schedule.</small>' +
          '</div>';
      }

      console.log('[index:espn-click] ğŸ“¤ Sending create-from-espn request...');

      const requestBody = {
        espnId: espnId,
        name: name,
        team: team,
        imageUrl: imageUrl
      };
      
      console.log('[index:espn-click] Request body:', JSON.stringify(requestBody, null, 2));
      
      const response = await fetch(API + '/api/athletes/create-from-espn', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer ' + token
        },
        body: JSON.stringify(requestBody)
      });

      console.log('[index:espn-click] Response status:', response.status, response.statusText);

      if (!response.ok) {
        const errorText = await response.text();
        console.error('[index:espn-click] âŒ Failed to create athlete:', errorText);
        alert('We had trouble creating this player. Please try again or contact support.');
        return;
      }

      const data = await response.json();
      console.log('[index:espn-click] âœ… Athlete created/found:', data);

      const athlete = data.athlete || data;
      if (!athlete || !athlete.id) {
        console.error('[index:espn-click] âŒ No athlete ID returned from server');
        alert('We created the player, but could not load their profile. Please refresh and try again.');
        return;
      }

      console.log('[index:espn-click] Athlete ID:', athlete.id);
      console.log('[index:espn-click] ğŸ”„ Redirecting to player page...');
      window.location.href = '/playepage.html?athleteId=' + encodeURIComponent(athlete.id);
      
    } catch (error) {
      console.error('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      console.error('[index:espn-click] âŒ ERROR HANDLING ESPN CLICK');
      console.error('[index:espn-click] Error name:', error.name);
      console.error('[index:espn-click] Error message:', error.message);
      console.error('[index:espn-click] Error stack:', error.stack);
      console.error('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
      alert('Something went wrong while creating this player. Please try again.');
    }
  };

  // Load athletes from API
  function loadAthletes(){
    fetch(API + '/api/athletes')
      .then(function(response){
        if (!response.ok) throw new Error('API returned ' + response.status);
        return response.json();
      })
      .then(function(athletes){
        allAthletes = athletes;
        loadFeaturedAthletes();

        var grid = document.getElementById('cards');
        if (grid) {
          grid.innerHTML = '';
          if (athletes.length === 0) {
            grid.innerHTML = '<div class="empty-state">No athletes available yet.<br>Check back soon!</div>';
          } else {
            athletes.forEach(function(athlete){
              var card = document.createElement('div');
              card.className = 'card';
              card.setAttribute('data-name', athlete.name || '');
              card.setAttribute('data-team', athlete.team || '');
              card.setAttribute('data-league', athlete.league || 'NBA');

              var imgSrc = athlete.imageUrl || athlete.image || '/images/Daps-2 Copy.png';

              var cardHTML =
                '<img class="thumb" ' +
                'src="' + imgSrc + '" ' +
                'alt="' + (athlete.name || '') + '" ' +
                'onerror="this.src=\'/images/Daps-2 Copy.png\'">' +
                '</div>' +
                '<div class="meta">' +
                '<h3 class="name">' + (athlete.name || 'Unknown') + '</h3>' +
                '<p class="team">' + (athlete.team || '') + ' â€¢ ' + (athlete.league || 'NBA') + '</p>' +
                '<a class="cta-ghost" href="/playepage.html?athleteId=' + (athlete.id || athlete.slug || '') + '">Select experience</a>' +
                '</div>';

              card.innerHTML = cardHTML;
              grid.appendChild(card);
            });
          }
        }

        applyFilters();

        initArticlesCarousel();
        
        // âœ… NEW: Initialize ESPN player loading
        console.log('[index:init] Initializing enhanced NBA player search...');
        loadAllNBAPlayers();
      })
      .catch(function(err){
        var gridErr = document.getElementById('cards');
        if (gridErr){
          gridErr.innerHTML = '<div class="empty-state">Failed to load athletes: ' + err.message + '<br><br>Please refresh the page or contact support.</div>';
        }
        initArticlesCarousel();
      });
  }

  // Load featured athletes
  function loadFeaturedAthletes(){
    var grid = document.getElementById('featuredGrid');
    if (!grid) return;

    grid.innerHTML = '';

    var featured = [];
    allAthletes.forEach(function(a){
      if (a.featured === true) featured.push(a);
    });

    if (featured.length === 0 && allAthletes.length > 0) {
      featured = allAthletes.slice(0, 3);
    }

    if (featured.length === 0) {
      grid.innerHTML = '<div class="empty-state" style="grid-column: 1/-1">No featured athletes yet</div>';
      return;
    }

    featured.forEach(function(athlete){
      var card = document.createElement('a');
      card.className = 'featured-card';
      card.href = '/playepage.html?athleteId=' + (athlete.id || athlete.slug || '');

      var imgSrc = athlete.imageUrl || '/images/Daps-2 Copy.png';

      card.innerHTML =
        '<div class="featured-thumb">' +
          '<img src="' + imgSrc + '" alt="' + (athlete.name || '') + '" ' +
          'onerror="this.src=\'/images/Daps-2 Copy.png\'">' +
        '</div>' +
        '<div class="featured-name">' + (athlete.name || 'Unknown') + '</div>' +
        '<div class="featured-team">' + (athlete.team || '') + ' â€¢ ' + (athlete.league || 'NBA') + '</div>' +
        '<button class="featured-cta">View experiences</button>';

      grid.appendChild(card);
    });
  }

  /* ======== PRESS LOGO CAROUSEL LOGIC ======== */

  function getArticle(idx){
    var len = articlesData.length;
    return articlesData[(idx % len + len) % len];
  }

  function buildArticleCardEl(outlet, className){
    var el = document.createElement('div');
    el.className = 'article-card-shell logo-card ' + className;
    el.setAttribute('aria-label', outlet.name || 'Press outlet');
    el.innerHTML =
      '<img src="' + (outlet.logo || '') + '" alt="' + (outlet.name || "Press logo") + '" ' +
      'onerror="this.style.visibility=\'hidden\'">';
    return el;
  }

  function renderCarouselTriplet(){
    if(!wrapperEl){
      wrapperEl = document.getElementById('articlesCarouselWrapper');
    }
    if(!wrapperEl) return;

    wrapperEl.classList.remove('anim-next','anim-prev');
    wrapperEl.innerHTML = '';

    var farLeftOutlet  = getArticle(currentArticleIndex - 2);
    var leftOutlet     = getArticle(currentArticleIndex - 1);
    var centerOutlet   = getArticle(currentArticleIndex);
    var rightOutlet    = getArticle(currentArticleIndex + 1);
    var farRightOutlet = getArticle(currentArticleIndex + 2);

    var farLeftCard  = buildArticleCardEl(farLeftOutlet,  'pos-far-left');
    var leftCard     = buildArticleCardEl(leftOutlet,     'pos-left');
    var centerCard   = buildArticleCardEl(centerOutlet,   'pos-center');
    var rightCard    = buildArticleCardEl(rightOutlet,    'pos-right');
    var farRightCard = buildArticleCardEl(farRightOutlet, 'pos-far-right');

    wrapperEl.appendChild(farLeftCard);
    wrapperEl.appendChild(leftCard);
    wrapperEl.appendChild(centerCard);
    wrapperEl.appendChild(rightCard);
    wrapperEl.appendChild(farRightCard);
  }

  function goNext(){
    if(animating) return;
    if(!articlesData || articlesData.length === 0) return;
    animating = true;
    stopAutoplayTimers();
    if(!wrapperEl){
      wrapperEl = document.getElementById('articlesCarouselWrapper');
    }
    if(wrapperEl){
      wrapperEl.classList.add('anim-next');
    }
    setTimeout(function(){
      currentArticleIndex = (currentArticleIndex + 1) % articlesData.length;
      renderCarouselTriplet();
      restartAutoplayTimers();
      animating = false;
    }, animDurationMs);
  }

  function goPrev(){
    if(animating) return;
    if(!articlesData || articlesData.length === 0) return;
    animating = true;
    stopAutoplayTimers();
    if(!wrapperEl){
      wrapperEl = document.getElementById('articlesCarouselWrapper');
    }
    if(wrapperEl){
      wrapperEl.classList.add('anim-prev');
    }
    setTimeout(function(){
      currentArticleIndex = (currentArticleIndex - 1 + articlesData.length) % articlesData.length;
      renderCarouselTriplet();
      restartAutoplayTimers();
      animating = false;
    }, animDurationMs);
  }

  function startProgressBar(){
    progressElapsed = 0;
    lastFrameTime = performance.now();
    if(!progressBarEl){
      progressBarEl = document.getElementById('articleProgressBar');
    }
    if(progressBarEl){
      progressBarEl.style.transition = 'none';
      progressBarEl.style.width = '0%';
      requestAnimationFrame(function(){
        requestAnimationFrame(function(){
          progressBarEl.style.transition = 'width linear';
          progressBarEl.style.width = '100%';
          progressBarEl.style.transitionDuration = articleAutoplayMs + 'ms';
        });
      });
    }
    if(articleProgressTimer){
      cancelAnimationFrame(articleProgressTimer);
    }
    articleProgressTimer = requestAnimationFrame(tickProgress);
  }

  function tickProgress(ts){
    if(!lastFrameTime) lastFrameTime = ts;
    var dt = ts - lastFrameTime;
    lastFrameTime = ts;
    progressElapsed += dt;
    if(progressElapsed >= articleAutoplayMs){
      goNext();
      return;
    }
    articleProgressTimer = requestAnimationFrame(tickProgress);
  }

  function stopAutoplayTimers(){
    if(articleRotateTimer){
      clearInterval(articleRotateTimer);
      articleRotateTimer = null;
    }
    if(articleProgressTimer){
      cancelAnimationFrame(articleProgressTimer);
      articleProgressTimer = null;
    }
  }

  function restartAutoplayTimers(){
    if(!articlesData || articlesData.length === 0) return;
    startProgressBar();
    if(articleRotateTimer){
      clearInterval(articleRotateTimer);
    }
    articleRotateTimer = setInterval(function(){
      goNext();
    }, articleAutoplayMs);
  }

  function initArticlesCarousel(){
    wrapperEl = document.getElementById('articlesCarouselWrapper');
    progressBarEl = document.getElementById('articleProgressBar');
    var leftEl = document.getElementById('articleArrowLeft');
    var rightEl = document.getElementById('articleArrowRight');
    var section = document.getElementById('articlesCarouselSection');

    if(!wrapperEl || !leftEl || !rightEl || !articlesData || articlesData.length === 0){
      if(section){
        section.style.display = 'none';
      }
      return;
    }

    leftEl.addEventListener('click', goPrev);
    rightEl.addEventListener('click', goNext);

    renderCarouselTriplet();
    restartAutoplayTimers();
  }

  // ============================================================================
  // âœ… MODIFIED: Hero search now uses combinedPlayers (DB + ESPN)
  // ============================================================================
  var heroSearchInput = document.getElementById('heroSearch');
  var searchResults = document.getElementById('searchResults');
  var heroSearchTimer;

  heroSearchInput.addEventListener('input', function(){
    clearTimeout(heroSearchTimer);
    heroSearchTimer = setTimeout(function(){
      performHeroSearch();
    }, 200);
  });

  heroSearchInput.addEventListener('focus', function(){
    if(heroSearchInput.value.trim()){
      performHeroSearch();
    }
  });

  document.addEventListener('click', function(e){
    if(!heroSearchInput.contains(e.target) && !searchResults.contains(e.target)){
      searchResults.classList.remove('active');
    }
  });

  function performHeroSearch(){
    var query = heroSearchInput.value.trim().toLowerCase();

    if(!query){
      searchResults.classList.remove('active');
      searchResults.innerHTML = '';
      return;
    }

    // âœ… MODIFIED: Search through combinedPlayers instead of allAthletes
    var matches = combinedPlayers.filter(function(player){
      var searchText = (
        (player.name || '') + ' ' +
        (player.team || '') + ' ' +
        (player.league || '') + ' ' +
        (player.position || '')
      ).toLowerCase();
      return searchText.indexOf(query) !== -1;
    });

    if(matches.length === 0){
      searchResults.innerHTML = '<div class="search-no-results">No athletes found matching "' + query + '"</div>';
      searchResults.classList.add('active');
      return;
    }

    var html = '';
    matches.slice(0, 6).forEach(function(player){
      var imgSrc = player.imageUrl || '/images/Daps-2 Copy.png';
      var sourceTag = player.inDatabase ? '' : '<span style="font-size:10px;color:#999;font-weight:normal;"> (ESPN)</span>';
      
      // âœ… NEW: For database players, use normal link. For ESPN-only players, use special onclick handler
      var clickHandler;
      if(player.inDatabase){
        clickHandler = 'href="/playepage.html?athleteId=' + (player.id || player.slug) + '"';
      } else {
        // Escape quotes in player data for onclick
        var escapedName = (player.name || '').replace(/'/g, "\\'").replace(/"/g, '&quot;');
        var escapedTeam = (player.team || '').replace(/'/g, "\\'").replace(/"/g, '&quot;');
        var escapedImage = (player.imageUrl || '').replace(/'/g, "\\'").replace(/"/g, '&quot;');
        
        clickHandler = 'href="#" onclick="handleESPNPlayerClick(\'' + 
                      player.espnId + '\', \'' + 
                      escapedName + '\', \'' + 
                      escapedTeam + '\', \'' + 
                      escapedImage + '\'); return false;"';
      }
      
      html +=
        '<a ' + clickHandler + ' class="search-result-item">' +
          '<div class="search-result-thumb">' +
            '<img src="' + imgSrc + '" alt="' + (player.name || '') + '" ' +
            'onerror="this.src=\'/images/Daps-2 Copy.png\'">' +
          '</div>' +
          '<div class="search-result-info">' +
            '<div class="search-result-name">' + (player.name || 'Unknown') + sourceTag + '</div>' +
            '<div class="search-result-team">' + (player.team || '') + ' â€¢ ' + (player.league || 'NBA') + '</div>' +
          '</div>' +
        '</a>';
    });

    searchResults.innerHTML = html;
    searchResults.classList.add('active');
  }

  // Main grid search + filter
  function getAllCards(){ return Array.from(document.querySelectorAll('.card')); }
  var input = document.getElementById('search');
  var chips = Array.from(document.querySelectorAll('.chip'));

  function applyFilters(){
    var q = (input && input.value ? input.value : '').toLowerCase();
    var active = document.querySelector('.chip[aria-pressed="true"]');
    var league = active && active.getAttribute('data-filter') ? active.getAttribute('data-filter') : 'all';

    getAllCards().forEach(function(card){
      var t = (card.getAttribute('data-name') + ' ' + card.getAttribute('data-team')).toLowerCase();
      var passQ = !q || t.indexOf(q) !== -1;
      var passL = (league === 'all') || (card.getAttribute('data-league') === league);
      card.style.display = (passQ && passL) ? 'flex' : 'none';
    });
  }

  if (input) {
    var timer;
    input.addEventListener('input', function(){
      clearTimeout(timer);
      timer = setTimeout(applyFilters, 150);
    });
  }

  chips.forEach(function(c){
    c.addEventListener('click', function(){
      chips.forEach(function(x){ x.setAttribute('aria-pressed','false'); });
      c.setAttribute('aria-pressed','true');
      applyFilters();
    });
  });

  // Hamburger menu
  var hamburger = document.getElementById('hamburger');
  var nav = document.getElementById('nav');
  var navOverlay = document.getElementById('navOverlay');

  function toggleNav(){
    var isActive = nav.classList.toggle('active');
    hamburger.classList.toggle('active');
    navOverlay.classList.toggle('active');
    hamburger.setAttribute('aria-expanded', isActive);
    if(isActive){
      navOverlay.style.display = 'block';
      document.body.style.overflow = 'hidden';
    } else {
      setTimeout(function(){
        navOverlay.style.display = 'none';
      }, 300);
      document.body.style.overflow = '';
    }
  }

  if(hamburger){
    hamburger.addEventListener('click', toggleNav);
  }

  if(navOverlay){
    navOverlay.addEventListener('click', toggleNav);
  }

  document.querySelectorAll('nav a').forEach(function(link){
    link.addEventListener('click', function(){
      if(nav.classList.contains('active')){
        toggleNav();
      }
    });
  });

  // Initialize on page load
  checkAuth();
  loadAthletes();
  initArticlesCarousel();
})();
</script>
</body>
</html>